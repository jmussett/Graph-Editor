var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,o){if(t){const s=r(t,e,n,o);return t[0](s)}}function r(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function u(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function $(){return g(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e,n){t.classList[n?"add":"remove"](e)}let b;function k(t){b=t}function I(){if(!b)throw new Error("Function called outside component initialization");return b}function w(t){I().$$.on_mount.push(t)}function N(){const t=I();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const s=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,s)})}}}const S=[],E=[],T=[],_=[],C=Promise.resolve();let z=!1;function D(t){T.push(t)}function M(t){_.push(t)}const B=new Set;function P(){do{for(;S.length;){const t=S.shift();k(t),q(t.$$)}for(;E.length;)E.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];B.has(e)||(B.add(e),e())}T.length=0}while(S.length);for(;_.length;)_.pop()();z=!1,B.clear()}function q(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const A=new Set;let G;function O(){G={r:0,c:[],p:G}}function X(){G.r||o(G.c),G=G.p}function Y(t,e){t&&t.i&&(A.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),G.c.push(()=>{A.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function L(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function U(t){t&&t.c()}function F(t,n,l){const{fragment:c,on_mount:r,on_destroy:u,after_update:i}=t.$$;c&&c.m(n,l),D(()=>{const n=r.map(e).filter(s);u?u.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(D)}function R(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(S.push(t),z||(z=!0,C.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,s,l,c,r,u,i=[-1]){const a=b;k(e);const f=s.props||{},d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:i};let p=!1;d.ctx=l?l(e,f,(t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&r(d.ctx[t],d.ctx[t]=s)&&(d.bound[t]&&d.bound[t](s),p&&H(e,t)),n}):[],d.update(),p=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),s.target&&(s.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(s.target)):d.fragment&&d.fragment.c(),s.intro&&Y(e.$$.fragment),F(e,s.target,s.anchor),P()),k(a)}class K{$destroy(){R(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Q(t){let e,n,s,l,d,h,y;const b=t[14].default,k=c(b,t,t[13],null);return{c(){e=p("div"),n=p("div"),s=p("label"),l=g(t[0]),d=$(),k&&k.c(),v(s,"class","svelte-1ks2bpq"),v(n,"class","selector svelte-1ks2bpq"),v(e,"class","drag svelte-1ks2bpq")},m(o,c){a(o,e,c),i(e,n),i(n,s),i(s,l),i(e,d),k&&k.m(e,null),t[15](e),h=!0,y=[m(n,"touchstart",t[2]),m(n,"mousedown",t[2])]},p(t,[e]){(!h||1&e)&&x(l,t[0]),k&&k.p&&8192&e&&k.p(r(b,t,t[13],null),u(b,t[13],e,null))},i(t){h||(Y(k,t),h=!0)},o(t){j(k,t),h=!1},d(n){n&&f(e),k&&k.d(n),t[15](null),o(y)}}}function V(t,e,n){const o=N();let s,l,c,{events:r}=e,{title:u=""}=e,{container:i=null}=e,{x:a=0}=e,{y:f=0}=e,d=!1;function p(t){l=a,c=f,d=!1,n(3,r.move=t=>{},r),n(3,r.stop=t=>{},r)}function h(t){d&&("touchmove"===t.type?(n(5,a=t.touches[0].clientX-l),n(6,f=t.touches[0].clientY-c)):(t.preventDefault(),n(5,a=t.clientX-l),n(6,f=t.clientY-c)),o("drag"))}let{$$slots:g={},$$scope:$}=e;return t.$set=t=>{"events"in t&&n(3,r=t.events),"title"in t&&n(0,u=t.title),"container"in t&&n(4,i=t.container),"x"in t&&n(5,a=t.x),"y"in t&&n(6,f=t.y),"$$scope"in t&&n(13,$=t.$$scope)},t.$$.update=()=>{18&t.$$.dirty&&(i||n(4,i=s)),112&t.$$.dirty&&i&&n(4,i.style.transform="translate3d("+a+"px, "+f+"px, 0)",i)},[u,s,function(t){"touchstart"===event.type?(l=t.touches[0].clientX-a,c=t.touches[0].clientY-f):(l=t.clientX-a,c=t.clientY-f),n(3,r.move=h,r),n(3,r.stop=p,r),d=!0},r,i,a,f,d,l,c,o,p,h,$,g,function(t){E[t?"unshift":"push"](()=>{n(1,s=t)})}]}class W extends K{constructor(t){super(),J(this,t,V,Q,l,{events:3,title:0,container:4,x:5,y:6})}}function Z(t){let e,n,s;const l=t[7].default,i=c(l,t,t[6],null);return{c(){e=p("div"),i&&i.c(),v(e,"class","selectable svelte-oot6ue"),y(e,"selected",t[2]),y(e,"absolute",t[1])},m(o,l){a(o,e,l),i&&i.m(e,null),t[8](e),n=!0,s=[m(e,"mouseenter",t[9]),m(e,"mouseleave",t[10])]},p(t,[n]){i&&i.p&&64&n&&i.p(r(l,t,t[6],null),u(l,t[6],n,null)),4&n&&y(e,"selected",t[2]),2&n&&y(e,"absolute",t[1])},i(t){n||(Y(i,t),n=!0)},o(t){j(i,t),n=!1},d(n){n&&f(e),i&&i.d(n),t[8](null),o(s)}}}function tt(t,e,n){let{events:o}=e,{absolute:s=!1}=e,{container:l=null}=e,c=!1,r=!1;var u;function i(t){n(2,c=!!r)}w(()=>n(4,o.click=i,o)),u=()=>n(4,o.click=t=>{},o),I().$$.on_destroy.push(u);let{$$slots:a={},$$scope:f}=e;return t.$set=t=>{"events"in t&&n(4,o=t.events),"absolute"in t&&n(1,s=t.absolute),"container"in t&&n(0,l=t.container),"$$scope"in t&&n(6,f=t.$$scope)},[l,s,c,r,o,i,f,a,function(t){E[t?"unshift":"push"](()=>{n(0,l=t)})},t=>n(3,r=!0),t=>n(3,r=!1)]}class et extends K{constructor(t){super(),J(this,t,tt,Z,l,{events:4,absolute:1,container:0})}}function nt(e){let n;return{c(){n=p("button"),v(n,"class","svelte-19aedad")},m(t,o){a(t,n,o),e[2](n)},p:t,i:t,o:t,d(t){t&&f(n),e[2](null)}}}function ot(t,e,n){let o,{socket:s=null}=e;return t.$set=t=>{"socket"in t&&n(1,s=t.socket)},t.$$.update=()=>{3&t.$$.dirty&&o&&(n(1,s.update=()=>n(1,s.position=o.getBoundingClientRect(),s),s),s.update())},[o,s,function(t){E[t?"unshift":"push"](()=>{n(0,o=t)})}]}class st extends K{constructor(t){super(),J(this,t,ot,nt,l,{socket:1})}}function lt(t,e,n){const o=t.slice();return o[10]=e[n].label,o[12]=n,o}function ct(t,e,n){const o=t.slice();return o[10]=e[n].label,o[12]=n,o}function rt(t){let e,n,o,s,l,c=t[0].inputs,r=[];for(let e=0;e<c.length;e+=1)r[e]=ut(ct(t,c,e));const u=t=>j(r[t],1,1,()=>{r[t]=null});return{c(){e=p("div"),n=p("label"),n.textContent="Inputs",o=$(),s=p("ul");for(let t=0;t<r.length;t+=1)r[t].c();v(n,"class","svelte-10e1x23"),v(s,"class","sockets svelte-10e1x23"),v(e,"class","inputs svelte-10e1x23")},m(t,c){a(t,e,c),i(e,n),i(e,o),i(e,s);for(let t=0;t<r.length;t+=1)r[t].m(s,null);l=!0},p(t,e){if(1&e){let n;for(c=t[0].inputs,n=0;n<c.length;n+=1){const o=ct(t,c,n);r[n]?(r[n].p(o,e),Y(r[n],1)):(r[n]=ut(o),r[n].c(),Y(r[n],1),r[n].m(s,null))}for(O(),n=c.length;n<r.length;n+=1)u(n);X()}},i(t){if(!l){for(let t=0;t<c.length;t+=1)Y(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)j(r[t]);l=!1},d(t){t&&f(e),d(r,t)}}}function ut(t){let e,n,o,s,l,c,r,u=t[10]+"";function d(e){t[3].call(null,e,t[12])}let h={};void 0!==t[0].inputs[t[12]]&&(h.socket=t[0].inputs[t[12]]);const m=new st({props:h});return E.push(()=>L(m,"socket",d)),{c(){e=p("li"),U(m.$$.fragment),o=$(),s=p("span"),l=g(u),c=$(),v(s,"class","svelte-10e1x23"),v(e,"class","svelte-10e1x23")},m(t,n){a(t,e,n),F(m,e,null),i(e,o),i(e,s),i(s,l),i(e,c),r=!0},p(e,o){t=e;const s={};!n&&1&o&&(n=!0,s.socket=t[0].inputs[t[12]],M(()=>n=!1)),m.$set(s),(!r||1&o)&&u!==(u=t[10]+"")&&x(l,u)},i(t){r||(Y(m.$$.fragment,t),r=!0)},o(t){j(m.$$.fragment,t),r=!1},d(t){t&&f(e),R(m)}}}function it(t){let e,n,o,s,l,c=t[0].outputs,r=[];for(let e=0;e<c.length;e+=1)r[e]=at(lt(t,c,e));const u=t=>j(r[t],1,1,()=>{r[t]=null});return{c(){e=p("div"),n=p("label"),n.textContent="Outputs",o=$(),s=p("ul");for(let t=0;t<r.length;t+=1)r[t].c();v(n,"class","svelte-10e1x23"),v(s,"class","sockets svelte-10e1x23"),v(e,"class","outputs svelte-10e1x23")},m(t,c){a(t,e,c),i(e,n),i(e,o),i(e,s);for(let t=0;t<r.length;t+=1)r[t].m(s,null);l=!0},p(t,e){if(1&e){let n;for(c=t[0].outputs,n=0;n<c.length;n+=1){const o=lt(t,c,n);r[n]?(r[n].p(o,e),Y(r[n],1)):(r[n]=at(o),r[n].c(),Y(r[n],1),r[n].m(s,null))}for(O(),n=c.length;n<r.length;n+=1)u(n);X()}},i(t){if(!l){for(let t=0;t<c.length;t+=1)Y(r[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)j(r[t]);l=!1},d(t){t&&f(e),d(r,t)}}}function at(t){let e,n,o,s,l,c,r,u=t[10]+"";function d(e){t[4].call(null,e,t[12])}let h={};void 0!==t[0].outputs[t[12]]&&(h.socket=t[0].outputs[t[12]]);const m=new st({props:h});return E.push(()=>L(m,"socket",d)),{c(){e=p("li"),n=p("span"),o=g(u),s=$(),U(m.$$.fragment),c=$(),v(n,"class","svelte-10e1x23"),v(e,"class","svelte-10e1x23")},m(t,l){a(t,e,l),i(e,n),i(n,o),i(e,s),F(m,e,null),i(e,c),r=!0},p(e,n){t=e,(!r||1&n)&&u!==(u=t[10]+"")&&x(o,u);const s={};!l&&1&n&&(l=!0,s.socket=t[0].outputs[t[12]],M(()=>l=!1)),m.$set(s)},i(t){r||(Y(m.$$.fragment,t),r=!0)},o(t){j(m.$$.fragment,t),r=!1},d(t){t&&f(e),R(m)}}}function ft(t){let e,n,o,s=t[0].inputs.length>0&&rt(t),l=t[0].outputs.length>0&&it(t);return{c(){e=p("div"),s&&s.c(),n=$(),l&&l.c(),v(e,"class","node svelte-10e1x23")},m(t,c){a(t,e,c),s&&s.m(e,null),i(e,n),l&&l.m(e,null),o=!0},p(t,o){t[0].inputs.length>0?s?(s.p(t,o),Y(s,1)):(s=rt(t),s.c(),Y(s,1),s.m(e,n)):s&&(O(),j(s,1,1,()=>{s=null}),X()),t[0].outputs.length>0?l?(l.p(t,o),Y(l,1)):(l=it(t),l.c(),Y(l,1),l.m(e,null)):l&&(O(),j(l,1,1,()=>{l=null}),X())},i(t){o||(Y(s),Y(l),o=!0)},o(t){j(s),j(l),o=!1},d(t){t&&f(e),s&&s.d(),l&&l.d()}}}function dt(t){let e,n,o,s;function l(e){t[5].call(null,e)}function c(e){t[6].call(null,e)}function r(e){t[7].call(null,e)}let u={container:t[1],title:t[0].name,$$slots:{default:[ft]},$$scope:{ctx:t}};void 0!==t[0].events&&(u.events=t[0].events),void 0!==t[0].x&&(u.x=t[0].x),void 0!==t[0].y&&(u.y=t[0].y);const i=new W({props:u});return E.push(()=>L(i,"events",l)),E.push(()=>L(i,"x",c)),E.push(()=>L(i,"y",r)),i.$on("drag",t[2]),{c(){U(i.$$.fragment)},m(t,e){F(i,t,e),s=!0},p(t,s){const l={};2&s&&(l.container=t[1]),1&s&&(l.title=t[0].name),16385&s&&(l.$$scope={dirty:s,ctx:t}),!e&&1&s&&(e=!0,l.events=t[0].events,M(()=>e=!1)),!n&&1&s&&(n=!0,l.x=t[0].x,M(()=>n=!1)),!o&&1&s&&(o=!0,l.y=t[0].y,M(()=>o=!1)),i.$set(l)},i(t){s||(Y(i.$$.fragment,t),s=!0)},o(t){j(i.$$.fragment,t),s=!1},d(t){R(i,t)}}}function pt(t){let e,n,o;function s(e){t[8].call(null,e)}function l(e){t[9].call(null,e)}let c={absolute:!0,$$slots:{default:[dt]},$$scope:{ctx:t}};void 0!==t[0].events&&(c.events=t[0].events),void 0!==t[1]&&(c.container=t[1]);const r=new et({props:c});return E.push(()=>L(r,"events",s)),E.push(()=>L(r,"container",l)),{c(){U(r.$$.fragment)},m(t,e){F(r,t,e),o=!0},p(t,[o]){const s={};16387&o&&(s.$$scope={dirty:o,ctx:t}),!e&&1&o&&(e=!0,s.events=t[0].events,M(()=>e=!1)),!n&&2&o&&(n=!0,s.container=t[1],M(()=>n=!1)),r.$set(s)},i(t){o||(Y(r.$$.fragment,t),o=!0)},o(t){j(r.$$.fragment,t),o=!1},d(t){R(r,t)}}}function ht(t,e,n){let o,{node:s}=e;return s.events={},t.$set=t=>{"node"in t&&n(0,s=t.node)},[s,o,function(){s.inputs.forEach(t=>t.update&&t.update()),s.outputs.forEach(t=>t.update&&t.update())},function(t,e){s.inputs[e]=t,n(0,s)},function(t,e){s.outputs[e]=t,n(0,s)},function(t){s.events=t,n(0,s)},function(t){s.x=t,n(0,s)},function(t){s.y=t,n(0,s)},function(t){s.events=t,n(0,s)},function(t){o=t,n(1,o)}]}class gt extends K{constructor(t){super(),J(this,t,ht,pt,l,{node:0})}}function $t(t){let e,n,o,s,l,c,r,u,d,g;return{c(){e=p("div"),n=h("svg"),o=h("filter"),s=h("feGaussianBlur"),l=h("g"),c=h("path"),u=h("g"),d=h("path"),v(s,"stdDeviation","5"),v(s,"in","SourceGraphic"),v(o,"id","highlight"),v(o,"filterUnits","userSpaceOnUse"),v(c,"class","curve-selector svelte-nng1pw"),v(c,"d",r="M"+t[2]+","+t[3]+" C"+t[4]+", "+t[5]+" "+t[6]+","+t[7]+" "+t[0]+","+t[1]),v(d,"class","curve svelte-nng1pw"),v(d,"d",g="M"+t[2]+","+t[3]+" C"+t[4]+", "+t[5]+" "+t[6]+","+t[7]+" "+t[0]+","+t[1]),v(n,"class","svelte-nng1pw"),v(e,"class","node-relation svelte-nng1pw")},m(t,r){a(t,e,r),i(e,n),i(n,o),i(o,s),i(n,l),i(l,c),i(n,u),i(u,d)},p(t,e){255&e&&r!==(r="M"+t[2]+","+t[3]+" C"+t[4]+", "+t[5]+" "+t[6]+","+t[7]+" "+t[0]+","+t[1])&&v(c,"d",r),255&e&&g!==(g="M"+t[2]+","+t[3]+" C"+t[4]+", "+t[5]+" "+t[6]+","+t[7]+" "+t[0]+","+t[1])&&v(d,"d",g)},d(t){t&&f(e)}}}function mt(e){let n,o=e[8]&&$t(e);return{c(){o&&o.c(),n=g("")},m(t,e){o&&o.m(t,e),a(t,n,e)},p(t,[e]){t[8]?o?o.p(t,e):(o=$t(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&f(n)}}}function vt(t,e,n){let o,s,l,c,r,u,i,a,{source:f}=e,{target:d}=e,{curvature:p=100}=e,h=!1;return t.$set=t=>{"source"in t&&n(9,f=t.source),"target"in t&&n(10,d=t.target),"curvature"in t&&n(11,p=t.curvature)},t.$$.update=()=>{3615&t.$$.dirty&&f&&d&&(n(0,o=d.left+d.width/2),n(1,s=d.top+d.height/2),n(2,l=f.left+f.width/2),n(3,c=f.top+f.height/2),n(4,r=o-(o-l)/2),n(6,i=l+(o-l)/2),n(4,r=Math.max(r,l+p)),n(6,i=Math.min(r,o-p)),n(5,u=c),n(7,a=s),n(8,h=!0))},[o,s,l,c,r,u,i,a,h,f,d,p]}class xt extends K{constructor(t){super(),J(this,t,vt,mt,l,{source:9,target:10,curvature:11})}}class yt{initializeGraph(t){return this.graph=t,this.horizontalDepth=.5,this.veritcalDepth=.5,this.initializeNode(0),this.graph}initializeNode(t){this.graph.nodes[t].x=300*this.horizontalDepth,this.graph.nodes[t].y=100*this.veritcalDepth,this.horizontalDepth++;let e=this.graph.relations.filter(e=>e.sourceNodeIndex==t);for(let n=0;n<this.graph.nodes[t].outputs.length;n++){let o=e.filter(t=>t.sourceSocketIndex==n);0!=o.length&&(this.initializeNode(o[0].targetNodeIndex),n!=this.graph.nodes[t].outputs.length-1&&this.veritcalDepth++)}this.horizontalDepth--}}function bt(t,e,n){const o=t.slice();return o[12]=e[n],o}function kt(t,e,n){const o=t.slice();return o[15]=e[n],o[17]=n,o}function It(t){let e,n;function o(e){t[5].call(null,e,t[17])}let s={};void 0!==t[0].nodes[t[17]]&&(s.node=t[0].nodes[t[17]]);const l=new gt({props:s});return E.push(()=>L(l,"node",o)),{c(){U(l.$$.fragment)},m(t,e){F(l,t,e),n=!0},p(n,o){t=n;const s={};!e&&1&o&&(e=!0,s.node=t[0].nodes[t[17]],M(()=>e=!1)),l.$set(s)},i(t){n||(Y(l.$$.fragment,t),n=!0)},o(t){j(l.$$.fragment,t),n=!1},d(t){R(l,t)}}}function wt(t){let e;const n=new xt({props:{source:t[12].sourcePosition,target:t[12].targetPosition}});return{c(){U(n.$$.fragment)},m(t,o){F(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.source=t[12].sourcePosition),1&e&&(o.target=t[12].targetPosition),n.$set(o)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){R(n,t)}}}function Nt(t){let e,n,s,l,c=t[0].nodes,r=[];for(let e=0;e<c.length;e+=1)r[e]=It(kt(t,c,e));const u=t=>j(r[t],1,1,()=>{r[t]=null});let h=t[0].relations,g=[];for(let e=0;e<h.length;e+=1)g[e]=wt(bt(t,h,e));const x=t=>j(g[t],1,1,()=>{g[t]=null});return{c(){e=p("div");for(let t=0;t<r.length;t+=1)r[t].c();n=$();for(let t=0;t<g.length;t+=1)g[t].c();v(e,"class","graph svelte-1t1skuu")},m(o,c){a(o,e,c);for(let t=0;t<r.length;t+=1)r[t].m(e,null);i(e,n);for(let t=0;t<g.length;t+=1)g[t].m(e,null);s=!0,l=[m(e,"touchstart",t[6]),m(e,"mousedown",t[7]),m(e,"touchmove",t[8]),m(e,"mousemove",t[9]),m(e,"touchend",t[10]),m(e,"mouseup",t[11])]},p(t,[o]){if(1&o){let s;for(c=t[0].nodes,s=0;s<c.length;s+=1){const l=kt(t,c,s);r[s]?(r[s].p(l,o),Y(r[s],1)):(r[s]=It(l),r[s].c(),Y(r[s],1),r[s].m(e,n))}for(O(),s=c.length;s<r.length;s+=1)u(s);X()}if(1&o){let n;for(h=t[0].relations,n=0;n<h.length;n+=1){const s=bt(t,h,n);g[n]?(g[n].p(s,o),Y(g[n],1)):(g[n]=wt(s),g[n].c(),Y(g[n],1),g[n].m(e,null))}for(O(),n=h.length;n<g.length;n+=1)x(n);X()}},i(t){if(!s){for(let t=0;t<c.length;t+=1)Y(r[t]);for(let t=0;t<h.length;t+=1)Y(g[t]);s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)j(r[t]);g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)j(g[t]);s=!1},d(t){t&&f(e),d(r,t),d(g,t),o(l)}}}function St(t,e,n){let{graph:o}=e;w(()=>{var t=new yt;n(0,o=t.initializeGraph(o))});let s=t=>o.nodes.forEach(e=>e.events&&e.events.click&&e.events.click(t)),l=t=>o.nodes.forEach(e=>e.events&&e.events.move&&e.events.move(t)),c=t=>o.nodes.forEach(e=>e.events&&e.events.stop&&e.events.stop(t));return t.$set=t=>{"graph"in t&&n(0,o=t.graph)},t.$$.update=()=>{if(1&t.$$.dirty)for(let t=0;t<o.relations.length;t++){let e=o.relations[t],s=o.nodes[e.sourceNodeIndex].outputs[e.sourceSocketIndex],l=o.nodes[e.targetNodeIndex].inputs[e.targetSocketIndex];n(0,o.relations[t].sourcePosition=s.position,o),n(0,o.relations[t].targetPosition=l.position,o)}},[o,s,l,c,void 0,function(t,e){o.nodes[e]=t,n(0,o)},t=>s(t),t=>s(t),t=>l(t),t=>l(t),t=>c(t),t=>c(t)]}return new class extends K{constructor(t){super(),J(this,t,St,Nt,l,{graph:0})}}({target:document.body,props:{graph:{nodes:[{name:"Test1",inputs:[],outputs:[{label:"Test1"},{label:"Test2"}]},{name:"Test2",inputs:[{label:"Test"}],outputs:[]},{name:"Test3",inputs:[{label:"Test"}],outputs:[{label:"Test1"},{label:"Test2"},{label:"Test3"}]},{name:"Test4",inputs:[{label:"Test"}],outputs:[]},{name:"Test5",inputs:[{label:"Test"}],outputs:[]},{name:"Test6",inputs:[{label:"Test"}],outputs:[]}],relations:[{sourceNodeIndex:0,sourceSocketIndex:0,targetNodeIndex:1,targetSocketIndex:0},{sourceNodeIndex:0,sourceSocketIndex:1,targetNodeIndex:2,targetSocketIndex:0},{sourceNodeIndex:2,sourceSocketIndex:0,targetNodeIndex:3,targetSocketIndex:0},{sourceNodeIndex:2,sourceSocketIndex:1,targetNodeIndex:4,targetSocketIndex:0},{sourceNodeIndex:2,sourceSocketIndex:2,targetNodeIndex:5,targetSocketIndex:0}]}}})}();
//# sourceMappingURL=bundle.js.map
